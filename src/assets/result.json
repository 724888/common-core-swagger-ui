{"swagger":"2.0","info":{"description":"基础平台 RESTful 风格的接口文档，内容详细，极大的减少了前后端的沟通成本，同时确保代码与文档保持高度一致，极大的减少维护文档的时间。","version":"1.0.0","title":"基础平台 RESTful APIs","termsOfService":"https://github.com/MisterChangRay"},"host":"localhost:8080","basePath":"/","tags":[{"name":"用户管理","description":"UserController"},{"name":"用户认证","description":"AuthController"},{"name":"角色管理","description":"RoleController"},{"name":"权限控制","description":"PermissionController"}],"paths":{"/v1/auth/checkUserInfo":{"post":{"tags":["用户认证"],"summary":"用户信息校验","description":"检查用户信息是否已经注册,true表示已经注册,false为未注册","operationId":"checkUserUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"name":"username","in":"query","description":"用户名","required":false,"type":"string"},{"name":"phone","in":"query","description":"手机号","required":false,"type":"string"},{"name":"idcard","in":"query","description":"身份证","required":false,"type":"string"},{"name":"email","in":"query","description":"邮箱","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"put":{"tags":["用户认证"],"summary":"用户信息校验2","description":"检查用户信息是否已经注册,true表示已经注册,false为未注册","operationId":"checkUserUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"name":"userVOs","in":"query","description":"用户实体对象","required":false,"type":"array","items":{"$ref":"#/definitions/UserVO"},"collectionFormat":"multi"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/auth/login":{"post":{"tags":["用户认证"],"summary":"用户登陆","description":"提供用户登陆接口,登陆成功后返回 Authentication ,在以后的请求中应该把此字段增加到请求头中","operationId":"loginUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"name":"username","in":"query","description":"用户名","required":true,"type":"string"},{"name":"password","in":"query","description":"密码","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/permission":{"get":{"tags":["权限控制"],"summary":"权限列表","description":"获取权限列表","operationId":"listUsingGET","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"name":"page","in":"query","description":"页码","required":true,"type":"ref"},{"name":"limit","in":"query","description":"每页条数","required":true,"type":"ref"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"post":{"tags":["权限控制"],"summary":"新增权限","description":"新增权限","operationId":"addUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"in":"body","name":"permissionVO","description":"权限实体JSON对象","required":true,"schema":{"$ref":"#/definitions/PermissionVO"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"put":{"tags":["权限控制"],"summary":"编辑权限","description":"根据ID编辑权限","operationId":"editUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"in":"body","name":"permission","description":"权限实体JSON对象","required":true,"schema":{"$ref":"#/definitions/PermissionVO"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/permission/{id}":{"delete":{"tags":["权限控制"],"summary":"删除权限","description":"根据ID删除权限","operationId":"deleteUsingDELETE","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"name":"id","in":"path","description":"权限ID","required":true,"type":"ref"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}}}},"/v1/permission/{permissionId}":{"get":{"tags":["权限控制"],"summary":"根据ID获取权限","description":"根据ID获取权限","operationId":"getByIdUsingGET","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"name":"permissionId","in":"query","description":"权限ID","required":true,"type":"ref"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/role":{"get":{"tags":["角色管理"],"summary":"获取角色列表","description":"获取角色列表","operationId":"listUsingGET_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"name":"page","in":"query","description":"页码","required":true,"type":"integer","format":"int32"},{"name":"limit","in":"query","description":"每页条数","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"post":{"tags":["角色管理"],"summary":"新增角色","description":"新增角色","operationId":"addUsingPOST_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"in":"body","name":"roleVO","description":"roleVO","required":true,"schema":{"$ref":"#/definitions/RoleVO"}},{"name":"vo","in":"query","description":"角色实体对象","required":true,"type":"ref"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"put":{"tags":["角色管理"],"summary":"编辑角色","description":"根据ID编辑角色","operationId":"editUsingPUT_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"in":"body","name":"roleVO","description":"roleVO","required":true,"schema":{"$ref":"#/definitions/RoleVO"}},{"name":"vo","in":"query","description":"角色实体对象","required":true,"type":"ref"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/role/{id}":{"delete":{"tags":["角色管理"],"summary":"删除角色","description":"根据ID删除角色","operationId":"deleteUsingDELETE_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"name":"id","in":"query","description":"角色ID","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}}}},"/v1/role/{roleId}/permission":{"patch":{"tags":["角色管理"],"summary":"编辑角色权限","description":"编辑角色下的权限","operationId":"getByIdUsingPATCH","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"name":"roleId","in":"formData","description":"角色ID","required":true,"type":"integer","format":"int32"},{"name":"permissionIds","in":"formData","description":"权限ID","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}}}},"/v1/user":{"get":{"tags":["用户管理"],"summary":"用户列表","description":"获取用户列表","operationId":"listUsingGET_2","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"name":"page","in":"query","description":"页码","required":true,"type":"integer","format":"int32"},{"name":"limit","in":"query","description":"每页条数","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"post":{"tags":["用户管理"],"summary":"新增用户","description":"新增用户","operationId":"addUsingPOST_2","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"in":"body","name":"userVO","description":"用户实体JSON对象","required":true,"schema":{"$ref":"#/definitions/UserVO"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"put":{"tags":["用户管理"],"summary":"编辑用户","description":"编辑用户","operationId":"editUsingPUT_2","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"in":"body","name":"userVO","description":"用户实体JSON对象","required":true,"schema":{"$ref":"#/definitions/UserVO"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/user/{id}":{"delete":{"tags":["用户管理"],"summary":"删除用户","description":"删除用户","operationId":"deleteUsingDELETE_2","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"name":"id","in":"path","description":"根据ID删除用户","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}}}},"/v1/user/{userId}":{"get":{"tags":["用户管理"],"summary":"根据ID获取用户","description":"根据ID获取用户","operationId":"getByIdUsingGET_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"name":"userId","in":"path","description":"用户ID","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/user/{userId}/role":{"patch":{"tags":["用户管理"],"summary":"编辑用户角色","description":"编辑用户下的角色","operationId":"getByIdUsingPATCH_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authentication","in":"header","description":"令牌","required":true,"type":"string"},{"name":"userId","in":"path","description":"用户ID","required":true,"type":"integer","format":"int32"},{"name":"roleIds","in":"query","description":"角色ID","required":true,"type":"array","items":{"type":"integer","format":"int32"},"collectionFormat":"multi"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NormalResponse"}},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}}}}},"definitions":{"PageInfo":{"type":"object","properties":{"count":{"type":"integer","format":"int32","description":"总共有多少条记录"},"limit":{"type":"integer","format":"int32","description":"每页多少数据"},"page":{"type":"integer","format":"int32","description":"当前第几页"}},"description":"页码信息封装对象-PageInfo"},"RoleVO":{"type":"object","properties":{"enable":{"type":"integer","format":"int32"},"id":{"type":"integer","format":"int32"},"name":{"type":"string"}},"description":"角色实体对象-RoleVO"},"UserVO":{"type":"object","properties":{"email":{"type":"string"},"enable":{"type":"integer","format":"int32"},"id":{"type":"integer","format":"int32"},"idcard":{"type":"string"},"name":{"type":"string"},"password":{"type":"string"},"phone":{"type":"string"},"sex":{"type":"integer","format":"int32"},"username":{"type":"string"}},"description":"用户实体对象-UserVO"},"NormalResponse":{"type":"object","properties":{"data":{"type":"object","description":"结果返回 JSON 格式"},"errorCode":{"type":"integer","format":"int32","description":"此值只有在success为false时才有参考价值"},"errorMsg":{"type":"string","description":"此值只有在success为false时才有参考价值"},"href":{"type":"array","description":"帮助接口","items":{"type":"object"}},"pageInfo":{"description":"页码信息","$ref":"#/definitions/PageInfo"},"success":{"type":"boolean","example":false,"description":"处理是否成功，如果失败参见errorMsg"}},"description":"标准返回封装-NormalResponse"},"PermissionVO":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"}},"description":"权限实体对象-PermissionVO"}}}